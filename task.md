ü§î –ò–≥—Ä–∞ –±–µ–∑ –ø—Ä–∞–≤–∞ –Ω–∞ –æ—à–∏–±–∫—É


–ú—ã –±—É–¥–µ–º –ø–∏—Å–∞—Ç—å –∏–≥—Ä—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –ª—é–±–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç—Ä–∞–≥–∏—á–µ—Å–∫–æ–º—É —Ñ–∏–Ω–∞–ª—É. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–µ–º –ø–æ –∫–æ–¥—É, –∞ –∑–∞—Ç–µ–º —è —Ä–∞—Å—Å–∫–∞–∂—É, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å.

–ö–æ–º–∞–Ω–¥–∞, –æ–±—ä–µ–∫—Ç, —à–∞–≥
–í –Ω–∞—à–µ–π –∏–≥—Ä–µ —É—á–∞—Å—Ç–Ω–∏–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞. –ü–æ—ç—Ç–æ–º—É –µ—Å—Ç—å —Ç–∏–ø command –∏ –∏ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:

// label - —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
type label string

// command - –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ –∏–≥—Ä–µ
type command label

// —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
var (
    eat  = command("eat")
    take = command("take")
    talk = command("talk to")
)
–ï—Å—Ç—å –æ–±—ä–µ–∫—Ç—ã –∏–≥—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞ ‚Äî —Ç–∏–ø thing. –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω—ã:

// thing - –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∏–≥—Ä–µ
type thing struct {
    name    label
    actions map[command]string
}

// supports() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç
// –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É action
func (t thing) supports(action command) bool {
    _, ok := t.actions[action]
    return ok
}
–°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤:

// –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∏–≥—Ä–µ
var (
    apple = thing{"apple", map[command]string{
        eat:  "mmm, delicious!",
        take: "you have an apple now",
    }}
    bob = thing{"bob", map[command]string{
        talk: "Bob says hello",
    }}
    coin = thing{"coin", map[command]string{
        take: "you have a coin now",
    }}
    mirror = thing{"mirror", map[command]string{
        take: "you have a mirror now",
        talk: "mirror does not answer",
    }}
    mushroom = thing{"mushroom", map[command]string{
        eat:  "tastes funny",
        take: "you have a mushroom now",
    }}
)
–ï—Å—Ç—å —Ç–∏–ø step ‚Äî —à–∞–≥ –∏–≥—Ä—ã. –û–Ω –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –∏ –æ–±—ä–µ–∫—Ç, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ:

// step –æ–ø–∏—Å—ã–≤–∞–µ—Ç —à–∞–≥ –∏–≥—Ä—ã: —Å–æ—á–µ—Ç–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±—ä–µ–∫—Ç–∞
type step struct {
    cmd command
    obj thing
}

// isValid() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç
// —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –∫–æ–º–∞–Ω–¥–æ–π
func (s step) isValid() bool {
    return s.obj.supports(s.cmd)
}
–ò–≥—Ä–æ–∫
–ï—Å—Ç—å –∏–≥—Ä–æ–∫ ‚Äî —Ç–∏–ø player:

// player - –∏–≥—Ä–æ–∫
type player struct {
    // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—ä–µ–¥–µ–Ω–Ω–æ–≥–æ
    nEaten int
    // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∏–∞–ª–æ–≥–æ–≤
    nDialogs int
    // –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
    inventory []thing
}
–ò–≥—Ä–æ–∫ —É–º–µ–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –ø—Ä–µ–¥–º–µ—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ:

// has() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ —É –∏–≥—Ä–æ–∫–∞
// –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ –µ—Å—Ç—å –ø—Ä–µ–¥–º–µ—Ç obj
func (p *player) has(obj thing) bool {
    for _, got := range p.inventory {
        if got.name == obj.name {
            return true
        }
    }
    return false
}
–ò –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–¥ —É–∫–∞–∑–∞–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º:

// do() –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É cmd –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º obj
// –æ—Ç –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞
func (p *player) do(cmd command, obj thing) error {
    // –¥–µ–π—Å—Ç–≤—É–µ–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–º–∞–Ω–¥–æ–π
    switch cmd {
    case eat:
        if p.nEaten > 1 {
            return errors.New("you don't want to eat anymore")
        }
        p.nEaten++
    case take:
        if p.has(obj) {
            return fmt.Errorf("you already have a %s", obj)
        }
        p.inventory = append(p.inventory, obj)
    case talk:
        if p.nDialogs > 0 {
            return errors.New("you don't want to talk anymore")
        }
        p.nDialogs++
    }
    return nil
}
–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —Ç—É—Ç –∫–æ–µ-—á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫:

–∏–≥—Ä–æ–∫ —É–∂–µ –µ–ª –∏–ª–∏ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–ª, –∏ –±–æ–ª—å—à–µ –Ω–µ —Ö–æ—á–µ—Ç,
–ø—Ä–µ–¥–º–µ—Ç —É–∂–µ –µ—Å—Ç—å –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ.
–ù–∞ –∫–∞–∂–¥—É—é —Ç–∞–∫—É—é —Å–∏—Ç—É–∞—Ü–∏—é –º–µ—Ç–æ–¥ do() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É.

–ò–≥—Ä–∞
–ù–∞–∫–æ–Ω–µ—Ü, –µ—Å—Ç—å —Ç–∏–ø game ‚Äî —Å–∞–º–∞ –∏–≥—Ä–∞:

// game –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–≥—Ä—É
type game struct {
    // –∏–≥—Ä–æ–∫
    player *player
    // –æ–±—ä–µ–∫—Ç—ã –∏–≥—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞
    things map[label]int
    // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤
    nSteps int
}
–ò—Å—Ö–æ–¥–Ω–æ –≤ –∏–≥—Ä–µ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ (–ø–æ–ª–µ things). –ò–≥—Ä–∞ —É–º–µ–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Å—Ç–∞–ª–∏—Å—å –ª–∏ –æ–Ω–∏ –∏–ª–∏ —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å:

// has() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ—Å—Ç–∞–ª–∏—Å—å –ª–∏ –≤ –∏–≥—Ä–æ–≤–æ–º –º–∏—Ä–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
func (g *game) has(obj thing) bool {
    count := g.things[obj.name]
    return count > 0
}
–ò–≥—Ä–∞ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —à–∞–≥:

// execute() –≤—ã–ø–æ–ª–Ω—è–µ—Ç —à–∞–≥ step
func (g *game) execute(st step) error {
    // –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±—ä–µ–∫—Ç–∞
    if !st.isValid() {
        return fmt.Errorf("cannot %s", st)
    }

    // –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –±–µ—Ä–µ—Ç –∏–ª–∏ —Å—ä–µ–¥–∞–µ—Ç –ø—Ä–µ–¥–º–µ—Ç,
    // —Ç–æ—Ç –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –∏–∑ –∏–≥—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞
    if st.cmd == take || st.cmd == eat {
        if !g.has(st.obj) {
            return fmt.Errorf("there are no %ss left", st.obj)
        }
        g.things[st.obj.name]--
    }

    // –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É –æ—Ç –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞
    if err := g.player.do(st.cmd, st.obj); err != nil {
        return err
    }

    g.nSteps++
    return nil
}
–í –º–µ—Ç–æ–¥–µ execute() –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π —Ç–∞–∫–∞—è:

–ò–≥—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —à–∞–≥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π.
–ò–≥—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ—Å—Ç–∞–ª–∏—Å—å –ª–∏ –ø—Ä–µ–¥–º–µ—Ç—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ.
–ò–≥—Ä–∞ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–∞ –∏–≥—Ä–æ–∫—É.
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ ‚Äî –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É.

–ù–æ–≤–∞—è –∏–≥—Ä–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

// newGame() —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∏–≥—Ä—É
func newGame() *game {
    p := newPlayer()
    things := map[label]int{
        apple.name:    2,
        coin.name:     3,
        mirror.name:   1,
        mushroom.name: 1,
    }
    return &game{p, things, 0}
}
–ü—Ä–∏–º–µ—Ä –∏–≥—Ä—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —à–∞–≥–æ–≤:

func main() {
    gm := newGame()
    steps := []step{
        {eat, apple},
        {talk, bob},
        {take, coin},
        {eat, mushroom},
    }

    for _, st := range steps {
        if err := tryStep(gm, st); err != nil {
            fmt.Println(err)
            os.Exit(1)
        }
    }
    fmt.Println("You win!")
}

// tryStep() –≤—ã–ø–æ–ª–Ω—è–µ—Ç —à–∞–≥ –∏–≥—Ä—ã –∏ –ø–µ—á–∞—Ç–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
func tryStep(gm *game, st step) error {
    // ...
}
–ó–¥–µ—Å—å —à–∞–≥–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —É—Å–ø–µ—Ö—É:

trying to eat apple... OK
trying to talk to bob... OK
trying to take coin... OK
trying to eat mushroom... OK
You win!
–ê –∑–¥–µ—Å—å –Ω–µ—Ç:

func main() {
    gm := newGame()
    steps := []step{
        {talk, bob},
        {talk, bob},
    }
    // ...
}
trying to talk to bob... OK
trying to talk to bob... FAIL
you don't want to talk anymore
exit status 1
–ó–∞–¥–∞–Ω–∏–µ
–ö–∞–∫ –≤–∏–¥–Ω–æ –ø–æ –∫–æ–¥—É, –æ—à–∏–±–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ errors.New() –∏ fmt.Errorf(). –•–æ—á–µ—Ç—Å—è –±–æ–ª—å—à–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –ø–æ—ç—Ç–æ–º—É –¥–æ–±–∞–≤—å—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞ –æ—à–∏–±–æ–∫:

// invalidStepError - –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç,
// –∫–æ–≥–¥–∞ –∫–æ–º–∞–Ω–¥–∞ —à–∞–≥–∞ –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –æ–±—ä–µ–∫—Ç–æ–º
type invalidStepError

// notEnoughObjectsError - –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç,
// –∫–æ–≥–¥–∞ –≤ –∏–≥—Ä–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –æ–±—ä–µ–∫—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
type notEnoughObjectsError

// commandLimitExceededError - –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç,
// –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
type commandLimitExceededError

// objectLimitExceededError - –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç,
// –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤
// –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
type objectLimitExceededError
–ú–µ—Ç–æ–¥ player.do() –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ª–∏–±–æ –æ–¥–Ω—É –∏–∑ —ç—Ç–∏—Ö –æ—à–∏–±–æ–∫, –ª–∏–±–æ nil (–µ—Å–ª–∏ –æ—à–∏–±–æ–∫ –Ω–µ –±—ã–ª–æ).

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Å–æ–∑–¥–∞–π—Ç–µ –æ—à–∏–±–∫—É –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è:

// gameOverError - –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–æ—à–ª–∞ –≤ –∏–≥—Ä–µ
type gameOverError struct {
    // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤, —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö
    // –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
    nSteps int
    // ...
}
–ú–µ—Ç–æ–¥ game.execute() –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ª–∏–±–æ –æ—à–∏–±–∫—É —Ç–∏–ø–∞ gameOverError, –ª–∏–±–æ nil (–µ—Å–ª–∏ –æ—à–∏–±–æ–∫ –Ω–µ –±—ã–ª–æ).

–ï—Å–ª–∏ –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–∏–ª –æ—à–∏–±–∫—É –æ—Ç player.do() ‚Äî –ø—É—Å—Ç—å –æ–±–µ—Ä–Ω–µ—Ç –µ–µ –≤ gameOverError.
–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –≤ —Å–∞–º–æ–º game.execute() ‚Äî –ø—É—Å—Ç—å —Å–æ–∑–¥–∞—Å—Ç –æ—à–∏–±–∫—É –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ç–∏–ø–∞, –∞ –∑–∞—Ç–µ–º –æ–±–µ—Ä–Ω–µ—Ç –µ–µ –≤ gameOverError.
–ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é giveAdvice(), –∫–æ—Ç–æ—Ä–∞—è –¥–∞–µ—Ç –∏–≥—Ä–æ–∫—É —Å–æ–≤–µ—Ç, –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —Å–ª—É—á–∏–≤—à–µ–π—Å—è –æ—à–∏–±–∫–∏ –≤ –±—É–¥—É—â–µ–º:

func giveAdvice(err error) string {
    // ...
}
–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã giveAdvice():

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –æ–±—ä–µ–∫—Ç–æ–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç things like 'COMMAND OBJECT' are impossible, –≥–¥–µ COMMAND ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã, –∞ OBJECT ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
–ï—Å–ª–∏ –≤ –∏–≥—Ä–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –æ–±—ä–µ–∫—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç be careful with scarce OBJECTs, –≥–¥–µ OBJECT ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –µ–ª, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç eat less. –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≥–æ–≤–æ—Ä–∏–ª, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç talk to less.
–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç don't be greedy, LIMIT OBJECT is enough, –≥–¥–µ LIMIT ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞, –∞ OBJECT ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
–ù–∞–ø—Ä–∏–º–µ—Ä:

things like 'eat bob' are impossible
be careful with scarce mirrors
don't be greedy, 1 apple is enough
–ò—Ç–æ–≥–æ
–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤ –≤ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–ª—É—á–∞—è—Ö.
–°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–ø gameOverError –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –æ—à–∏–±–∫—É —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –∏–∑ game.execute().
–°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é giveAdvice(), –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—à–∏–±–∫–∏.
–ü–æ–ª–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.

